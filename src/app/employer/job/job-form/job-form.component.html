<div class="container data-form">
  <a routerLink=".." class="d-block mb-2">
    <i class="fa fa-chevron-right p-icon"></i>
    <span>{{ 'TO_JOBS' | t }}</span>
  </a>
  <div class="card">
    <div class="card-header">
      <div class="card-title">{{ 'NEW_JOB' | t }}</div>
    </div>
    <form #f="ngForm" (ngSubmit)="submit(f.valid)" class="card-block">
      <div class="row">
        <div class="col-12 col-md-8 form-group">
          <label for="jobTitle">{{ 'JOB_TITLE' | t }}*</label>
          <input type="text" id="jobTitle" class="form-control" name="jobTitle" #jobTitle="ngModel" [(ngModel)]="job.title" [placeholder]="'ENTER_JOB_TITLE' | t" required>
          <p class="alert alert-danger" *ngIf="f.submitted && jobTitle.errors">{{ 'REQUIRED_FIELD' | t }}.</p>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-8 form-group">
          <label for="jobTitle">{{ 'JOB_LOCATION' | t }}*</label>
          <input type="text" id="jobLocation" class="form-control" name="jobLocation" #jobLocation="ngModel" [(ngModel)]="job.location" [placeholder]="'ENTER_JOB_LOCATION' | t" required>
          <p class="alert alert-danger" *ngIf="f.submitted && jobLocation.errors">{{ 'REQUIRED_FIELD' | t }}.</p>
        </div>
      </div>
      <div class="row">
        <div class="col col-md-4 form-group">
          <label>{{ 'JOB_CATEGORY' | t }}</label>
          <select2 [data]="categories" [options]="getSelectOptions('job_category')"></select2>
        </div>
        <div class="col col-md-4 form-group">
          <label>{{ 'JOB_ROLE' | t }}*</label>
          <select2 [options]="getSelectOptions('job_role')"></select2>
        </div>
      </div>
      <div class="form-group">
        <label for="jobDescription">{{ 'JOB_DESCRIPTION' | t }}*</label>
        <textarea id="jobDescription" class="form-control" name="jobDescription" #description="ngModel" [(ngModel)]="job.description" [placeholder]="'ENTER_JOB_DESCRIPTION' | t" required></textarea>
        <p class="alert alert-danger" *ngIf="f.submitted && description.errors">{{ 'REQUIRED_FIELD' | t }}.</p>
      </div>
      <div class="form-group">
        <label for="jobRequirements">{{ 'JOB_REQUIREMENTS' | t }}*</label>
        <textarea id="jobRequirements" class="form-control" name="jobRequirements" #requirements="ngModel" [(ngModel)]="job.requirements" [placeholder]="'ENTER_JOB_REQUIREMENTS' | t" required></textarea>
        <p class="alert alert-danger" *ngIf="f.submitted && requirements.errors">{{ 'REQUIRED_FIELD' | t }}.</p>
      </div>
      <div class="row">
        <div class="col-12 col-sm-6 col-md-5 form-group">
          <label>{{ 'JOB_TYPE' | t }}*</label>
          <select2 [options]="getSelectOptions('job_type')" [data]="jobTypes" (valueChanged)="job.type = $event.value"></select2>
        </div>
        <div class="col-12 col-sm-6 col-md-5 offset-md-2">
          <label>{{ 'SALARY' | t }}</label>
          <div class="d-flex">
            <input type="number" class="form-control" name="minSalary" [(ngModel)]="job.minSalary" [placeholder]="'MINIMUM' | t">
            <input type="number" class="form-control mx-3" name="maxSalary" [(ngModel)]="job.maxSalary" [placeholder]="'MAXIMUM' | t">
            <div>
              <select2 [data]="salaryMethods" (valueChanged)="job.salaryMethod = $event.value" [value]="{}" [options]="getSelectOptions(('HOURLY' | t) + '/' + ('MONTHLY' | t), true, true)"></select2>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer">
        <p class="alert alert-danger" *ngIf="isFailed">{{ 'SAVE_HAS_FAILED' | t }}.</p>
        <button type="submit" class="card-primary mr-3 chip-button chip-default fade-effect">{{ 'SAVE_PUBLISH_JOB' | t }}</button>
        <a>{{ 'SAVE_AS_DRAFT' | t }}</a>
      </div>
    </form>
  </div>
</div>
